CREATE TABLE `account` (
  `ACCT_ID` int(11) NOT NULL AUTO_INCREMENT,
  `ACCT_HOLDER_ID` int(11) NOT NULL,
  `ACCT_TYPE` char(1) NOT NULL DEFAULT 'S',
  `INT_RATE` decimal(4,2) NOT NULL,
  `ACC_BALANCE` decimal(10,2) NOT NULL,
  `DEPOSIT_TENURE` int(2) DEFAULT NULL,
  `MATURITY_AMT` decimal(10,2) DEFAULT NULL,
  `ACCOUNT_CREATED_DATE` date NOT NULL,
  `ACCOUNT_UPDATED_DATE` date NOT NULL,
  `ACC_STATUS` char(1) NOT NULL,
  PRIMARY KEY (`ACCT_ID`),
  KEY `ACCOUNT_fk1` (`ACCT_HOLDER_ID`),
  CONSTRAINT `ACCOUNT_fk1` FOREIGN KEY (`ACCT_HOLDER_ID`) REFERENCES `user` (`USER_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=latin1;



CREATE TABLE `beneficiary` (
  `BEN_ID` int(11) NOT NULL AUTO_INCREMENT,
  `OWNER_ID` int(11) NOT NULL,
  `BEN_TYPE` char(1) NOT NULL DEFAULT 'I',
  `BEN_NICK_NAME` varchar(100) NOT NULL,
  `BEN_NAME` varchar(100) NOT NULL,
  `BEN_ACCT_NUM` int(11) NOT NULL,
  `BEN_BANK` varchar(100) DEFAULT NULL,
  `BEN_BANK_IFSC` varchar(11) DEFAULT NULL,
  PRIMARY KEY (`BEN_ID`),
  KEY `BENEFICIARY_fk1` (`OWNER_ID`),
  CONSTRAINT `BENEFICIARY_fk1` FOREIGN KEY (`OWNER_ID`) REFERENCES `user` (`USER_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=37 DEFAULT CHARSET=latin1;


CREATE TABLE `transaction` (
  `TRN_ID` int(11) NOT NULL AUTO_INCREMENT,
  `DEBIT_ACCT` int(11) NOT NULL,
  `CREDIT_ACCT` int(11) NOT NULL,
  `TRN_DESC` varchar(255) NOT NULL,
  `TRN_AMT` decimal(10,2) NOT NULL,
  `TRN_DT_TIME` date NOT NULL,
  PRIMARY KEY (`TRN_ID`),
  KEY `Transaction_fk1` (`DEBIT_ACCT`),
  KEY `Transaction_fk2` (`CREDIT_ACCT`),
  CONSTRAINT `Transaction_fk1` FOREIGN KEY (`DEBIT_ACCT`) REFERENCES `account` (`ACCT_ID`),
  CONSTRAINT `Transaction_fk2` FOREIGN KEY (`CREDIT_ACCT`) REFERENCES `account` (`ACCT_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=latin1;

CREATE TABLE `user` (
  `USER_ID` int(11) NOT NULL AUTO_INCREMENT,
  `USERNAME` varchar(100) NOT NULL,
  `PASSWORD` varchar(50) NOT NULL,
  `USER_ROLE` char(1) NOT NULL DEFAULT 'C',
  `USER_STATUS` char(1) NOT NULL,
  `FIRST_NAME` varchar(100) NOT NULL,
  `LAST_NAME` varchar(100) NOT NULL,
  `DOB` date NOT NULL,
  `ADD_LINE1` varchar(255) NOT NULL,
  `ADD_LINE2` varchar(255) NOT NULL,
  `CITY` varchar(50) NOT NULL,
  `STATE` varchar(50) NOT NULL,
  `PIN` varchar(6) NOT NULL,
  `MOBILE_NUMBER` varchar(10) NOT NULL,
  `EMAIL_ID` varchar(100) NOT NULL,
  `AADHAR_ID` varchar(16) DEFAULT NULL,
  `PAN` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`USER_ID`),
  UNIQUE KEY `user_uk` (`USERNAME`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=latin1;
